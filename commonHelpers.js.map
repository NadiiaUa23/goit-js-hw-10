{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n// Otherwise, selectors are also supported\nflatpickr(\"#datetime-picker\", {\n    enableTime: true,\n    dateFormat: \"Y-m-d H:i\",\n});\n\n//    const test = iziToast.show({\n//   title: 'Hey',\n// message: 'What would you like to add?'\n//     });\n\n\nconst datetimePicker = document.getElementById(\"datetime-picker\");\nconst startButton = document.querySelector('[data-start]');\nconst daysValue = document.querySelector('[data-days]');\nconst hoursValue = document.querySelector('[data-hours]');\nconst minutesValue = document.querySelector('[data-minutes]');\nconst secondsValue = document.querySelector('[data-seconds]');\n\nconst options = {\n    enableTime: true,// выбор времени\n    time_24hr: true,//Отображает выбор времени в 24-часовом режиме без выбора AM/PM, \n    //если этот параметр включен.\n    defaultDate: new Date(),\n    /*Устанавливает начальную выбранную дату(ы).\nЕсли вы используете режим: «несколько» или календарь диапазона,\n укажите массив объектов даты или массив строк даты, которые соответствуют вашему формату даты.\nВ противном случае вы можете указать один объект Date или строку даты.*/\n    minuteIncrement: 1, // Adjusts the step for the minute input (incl. scrolling)\n    onClose(selectedDates)//Функции, которые будут активироваться каждый раз при закрытии календаря.\n     {\n      console.log(selectedDates[0]);\n    },\n  };\n\n  let userSelectedDate;\nstartButton.disabled = true;\n\nflatpickr(\"#datetime-picker\", {\n    onClose: function (selectedDates, dateStr, instance) {\n        userSelectedDate = selectedDates[0];\n        const currentDate = new Date();\n\n        if (userSelectedDate <= currentDate){\n            iziToast.error({\n                title: 'Error',\n                message : 'plese choose a date in the future',\n            })\n            startButton.disabled = true;\n        } else {\n            startButton.disabled = false;\n        }\n    }\n});\n\nstartButton.addEventListener('click', function() {\nconst countdown = userSelectedDate - new Date();\n\nif (countdown <= 0) {\n    iziToast.error({\n        title: 'Error',\n        message : 'plese choose a date in the future',\n    });\n    return;\n }\n})\n\n\n\n\n  function convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n  \n  console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n  console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n  console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\n\n  \n\n"],"names":["flatpickr","startButton","userSelectedDate","selectedDates","dateStr","instance","iziToast","convertMs","ms","days","hours","minutes","seconds"],"mappings":"2GAOAA,EAAU,mBAAoB,CAC1B,WAAY,GACZ,WAAY,WAChB,CAAC,EAQsB,SAAS,eAAe,iBAAiB,EAChE,MAAMC,EAAc,SAAS,cAAc,cAAc,EACvC,SAAS,cAAc,aAAa,EACnC,SAAS,cAAc,cAAc,EACnC,SAAS,cAAc,gBAAgB,EACvC,SAAS,cAAc,gBAAgB,EAkB1D,IAAIC,EACND,EAAY,SAAW,GAEvBD,EAAU,mBAAoB,CAC1B,QAAS,SAAUG,EAAeC,EAASC,EAAU,CACjDH,EAAmBC,EAAc,CAAC,EAG9BD,GAFgB,IAAI,MAGpBI,EAAS,MAAM,CACX,MAAO,QACP,QAAU,mCAC1B,CAAa,EACDL,EAAY,SAAW,IAEvBA,EAAY,SAAW,EAE9B,CACL,CAAC,EAEDA,EAAY,iBAAiB,QAAS,UAAW,CAGjD,GAFkBC,EAAmB,IAAI,MAExB,EAAG,CAChBI,EAAS,MAAM,CACX,MAAO,QACP,QAAU,mCAClB,CAAK,EACD,MACF,CACF,CAAC,EAKC,SAASC,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,QAAQ,IAAIL,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}