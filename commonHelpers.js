import"./assets/modulepreload-polyfill-3cfb730f.js";import{i as a}from"./assets/vendor-cd4b7665.js";class c{constructor(t,s,e,n,i,o){this.datetimePicker=document.getElementById(t),this.startButton=document.querySelector(s),this.daysValue=document.querySelector(e),this.hoursValue=document.querySelector(n),this.minutesValue=document.querySelector(i),this.secondsValue=document.querySelector(o),this.countdownInterval=null,this.initialize()}initialize(){this.datetimePicker.flatpickr({enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose:t=>{t[0]<=new Date?(a.error({title:"Error",message:"Please choose a date in the future",position:"topRight"}),this.startButton.disabled=!0):this.startButton.disabled=!1}}),this.startButton.disabled=!0,this.startButton.addEventListener("click",()=>this.startCountdown()),this.updateTimerDisplay({days:0,hours:0,minutes:0,seconds:0})}updateTimerDisplay({days:t,hours:s,minutes:e,seconds:n}){this.daysValue.textContent=this.addLeadingZero(t),this.hoursValue.textContent=this.addLeadingZero(s),this.minutesValue.textContent=this.addLeadingZero(e),this.secondsValue.textContent=this.addLeadingZero(n)}startCountdown(){const t=new Date(this.datetimePicker._flatpickr.selectedDates[0]);this.startButton.disabled=!0,clearInterval(this.countdownInterval),this.countdownInterval=setInterval(()=>{const e=t-new Date;if(e<=0)clearInterval(this.countdownInterval),this.updateTimerDisplay({days:0,hours:0,minutes:0,seconds:0}),a.success({title:"Success",message:"Countdown finished!",position:"topRight"}),this.startButton.disabled=!1;else{const n=this.convertMs(e);this.updateTimerDisplay(n)}},1e3)}addLeadingZero(t){return t<10?`0${t}`:t}convertMs(t){const o=Math.floor(t/864e5),r=Math.floor(t%864e5/36e5),d=Math.floor(t%864e5%36e5/6e4),u=Math.floor(t%864e5%36e5%6e4/1e3);return{days:o,hours:r,minutes:d,seconds:u}}}new c("datetime-picker","[data-start]","[data-days]","[data-hours]","[data-minutes]","[data-seconds]");
//# sourceMappingURL=commonHelpers.js.map
